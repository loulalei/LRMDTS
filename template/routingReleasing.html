{{template "header" .}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.8-beta.17/jquery.inputmask.min.js"
    integrity="sha512-zdfH1XdRONkxXKLQxCI2Ak3c9wNymTiPh5cU4OsUavFDATDbUzLR+SYWWz0RkhDmBDT0gNSUe4xrQXx8D89JIQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<input type="text" id="baseURL" value="{{.baseURL}}" readonly hidden>
<nav class="navbar navbar-expand-sm bg-body-tertiary">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"><i class="bi bi-calendar-week"></i> DOCUMENT - APPROVED</a>
    </div>
</nav>

<div class="container-fluid py-2 shadow mb-3">
    <!-- RECEIVING -->
    <div class="row">
        {{range .viewRoutings}}
        <span class="badge bg-secondary my-2 fw-bold">RECEIVING - Encoder: <i>{{.Encoder}}</i></span>
        <div class="col-md-4">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="trackingNumberx" name="trackingNumberx"
                    value="{{ .TrackingNumber}}" disabled>
                <label for="trackingNumberx">Tracking Number</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="receivedDate" name="receivedDate" value="{{.ReceivedDate}}"
                    disabled>
                <label for="receivedDate">Date</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="receivedTime" name="receivedTime" value="{{.ReceivedTime}}"
                    disabled>
                <label for="receivedTime">Time</label>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="receiver" name="receiver" value="{{.Receiver}}" disabled>
                <label for="receiver">Receiver</label>
            </div>
        </div>
        <div class="col-md-8">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="summary" name="summary" value="{{.Summary}}" disabled>
                <label for="summary">Summary</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="recevingDocumentTag" name="recevingDocumentTag"
                    value="{{.DocumentTag}}" disabled>
                <label for="recevingDocumentTag">Document Tag</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="receivingRemarks" name="receivingRemarks"
                    value="{{.Remarks}}" disabled>
                <label for="receivingRemarks">Receiving Remarks</label>
            </div>
        </div>
        <div class="col-md-8">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="receivedFile" name="receivedFile" value="{{.ReceivedFile}}"
                    disabled>
                <label for="receivedFile">Received File</label>
            </div>
        </div>
    </div>
    {{end}}
    <!-- FOR AGENDA -->
    <div class="row">
        {{ range .viewAgenda}}
        {{if .ModifiedBy}}
        <span class="badge bg-secondary my-2 fw-bold">AGENDA - Encoder: <i>{{.Encoder}}</i> | Modified By:
            <i>{{.ModifiedBy}}</i></span>
        {{else}}
        <span class="badge bg-secondary my-2 fw-bold">AGENDA - Encoder: <i>{{.Encoder}}</i></span>
        {{end}}

        <div class="col-md-2">
            <div class="form-floating mb-3">
                {{if .IsUrgent}}
                <input type="text" class="form-control" id="receivedDate" name="receivedDate" value="Yes" disabled>
                {{else}}
                <input type="text" class="form-control" id="receivedDate" name="receivedDate" value="No" disabled>
                {{end}}
                <label for="receivedDate">Is this document URGENT?</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="itemNumberx" name="itemNumberx" value="{{.ItemNumber}}"
                    disabled>
                <label for="itemNumberx">Item Number</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="dateCalendared" name="dateCalendared"
                    value="{{.DateCalendared}}" disabled>
                <label for="dateCalendared">Date Calendared</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="dateReported" name="dateReported" value="{{.DateReported}}"
                    disabled>
                <label for="dateReported">Date Reported</label>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="source" name="source" value="{{.SourceResult}}" disabled>
                <label for="source">Source</label>
            </div>
        </div>
        {{end}}
        <div class="col-md-8">
            <table class="table table-striped table-hover border">
                <thead>
                    <tr>
                        <th colspan="2">COMMITTEE LIST</th>
                    </tr>
                </thead>
                <tbody>
                    {{range .itemCommittees}}
                    <tr>
                        <td>{{.Name}}</td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>
        {{ range .viewAgenda}}
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="documentTag" name="documentTag" value="{{.AgendaTag}}"
                    disabled>
                <label for="soudocumentTagrce">Document Tag</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="remarks" name="remarks" value="{{.AgendaRemarks}}" disabled>
                <label for="remarks">Remarks</label>
            </div>
        </div>
        {{end}}
    </div>
    <!-- APRROVED -->
    <div class="row">
        {{range .viewApproved}}
        <span class="badge bg-secondary my-2 fw-bold">APPROVED - Encoder: <i>{{.Encoder}}</i></span>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="text" class="form-control" id="lawType" name="lawType" value="{{.LawType}}" disabled>
                <label for="lawType">Legislative Measure</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="text" class="form-control" id="lawNumber" name="lawNumber" value="{{.LawNumber}}" disabled>
                <label for="lawNumber">Number</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="text" class="form-control" id="series" name="series" value="{{.Series}}" disabled>
                <label for="series">Series</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="enactedDate" name="enactedDate" value="{{.EnactedDate}}"
                    disabled>
                <label for="enactedDate">Date Enacted</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="motionedBy" name="motionedBy" value="{{.MotionedBy}}"
                    disabled>
                <label for="motionedBy">Motioned By</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="author" name="author" value="{{.Author}}" disabled>
                <label for="author">Author</label>
            </div>
        </div>
        <div class="col-md-8">
            <div class="form-floating mb-3">
                <textarea class="form-control" id="titleBody" name="titleBody" style="height: 132px"
                    disabled>{{.TitleBody}}</textarea>
                <label for="titleBody">Title/Body</label>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="resOrdFile" name="resOrdFile" value="{{.ResOrdFile}}"
                    disabled>
                <label for="resOrdFile">Attached File</label>
            </div>
        </div>
        {{end}}
    </div>
    <!-- RELEASING -->
    <form action="#" class="row">
        <span class="badge bg-secondary my-2 fw-bold">RELEASING</span>
        <div class="col-md-2">
            <div class="form-floating mb-3">
                <input type="date" class="form-control" id="DateFMayor" name="DateFMayor">
                <label for="DateFMayor">Date Forwarded to Mayor</label>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-1">
                <input type="date" class="form-control" id="DateAMayor" name="DateAMayor">
                <label for="DateAMayor">Date Approved by Mayor</label>
            </div>
            <div class="form-floating mb-2">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mayor-laches" name="mayor-laches">
                    <label class="form-check-label" for="mayor-laches">Approved by laches</label>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="date" class="form-control" id="DateFSP" name="DateFSP">
                <label for="DateFSP">Date Forwarded to Sang. Panlalawigan</label>
            </div>
            <div class="mb-2">
                <label for="SPEndorseFile" class="form-label"></label>
                <input class="form-control form-control-sm" id="filename" name="filename" type="file"
                    accept="application/pdf">
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="date" class="form-control" id="DateASP" name="DateASP">
                <label for="DateFSP">Date Approved by Sang. Panlalawigan</label>
            </div>
            <div class="form-floating mb-2">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="sp-laches" name="sp-laches">
                    <label class="form-check-label" for="sp-laches">Approved by laches</label>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="text" class="form-control" id="SPResNo" name="SPResNo">
                <label for="SPResNo">SP Res. No.</label>
            </div>
            <div class="mb-2">
                <label for="SPResFile" class="form-label">Attach Res. File</label>
                <input class="form-control form-control-sm" id="filename" name="filename" type="file"
                    accept="application/pdf">
            </div>
        </div>
        <hr>
        <div class="col-md-2">
            <div class="form-floating mb-2">
                <input type="date" class="form-control" id="DateReleased" name="DateReleased">
                <label for="DateReleased">Date of Local Release</label>
            </div>
            <div class="mb-2">
                <label for="EndorseFile" class="form-label">Attach Res. File</label>
                <input class="form-control form-control-sm" id="filename" name="filename" type="file"
                    accept="application/pdf">
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-floating mb-2">
                <input type="date" class="form-control" id="DatePublished" name="DatePublished">
                <label for="DatePublished">Date Published</label>
            </div>
            <div class="form-floating mb-2">
                <input type="text" class="form-control" id="Publisher" name="Publisher">
                <label for="Publisher">Publisher</label>
            </div>
        </div>
    </form>
</div>

<script>
    $(document).ready(function () {
        $("#submitBtn").click(function () {
            Swal.fire({
                title: "Do you want to save this record?",
                icon: "question",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Save"
            }).then((result) => {
                /* Read more about isConfirmed, isDenied below */
                if (result.isConfirmed) {
                    $("#approved").submit(); // Submit the form
                } else if (result.isDenied) {
                    Swal.fire("Cancel saving record", "", "info");
                }
            });
        });
        $("#lawNumber").inputmask("9999");
        $("#series").inputmask("9999");
    });
</script>

{{template "footer" .}}